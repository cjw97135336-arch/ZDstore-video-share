<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>每日热点热点 - API接口示例</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 统一的 Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3D5A80',
                        secondary: '#6B7280',
                        light: '#F3F4F6',
                        dark: '#1F2937',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#EF4444',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .transition-all-300 {
                transition: all 300ms ease-in-out;
            }
            .card-hover {
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            }
            .skeleton {
                background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
                background-size: 200% 100%;
                animation: skeleton-loading 1.5s infinite;
            }
            @keyframes skeleton-loading {
                0% {
                    background-position: 200% 0;
                }
                100% {
                    background-position: -200% 0;
                }
            }
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- 导航栏 -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <!-- 移动端导航 -->
            <div class="md:hidden flex justify-between items-center py-3">
                <h1 class="text-xl font-bold text-primary">枕朵新媒体赋能平台</h1>
                <button id="menu-toggle" class="text-gray-600 hover:text-primary focus:outline-none">
                    <i class="fa fa-bars text-xl"></i>
                </button>
            </div>
            
            <!-- 移动端端菜单 -->
            <div id="mobile-menu" class="md:hidden hidden pb-3">
                <div class="grid grid-cols-3 gap-2">
                    <a href="index.html" class="flex flex-col items-center justify-center py-3 text-gray-600 hover:bg-gray-50 rounded-md transition-all">
                        <i class="fa fa-home text-xl mb-1"></i>
                        <span class="text-sm">首页</span>
                    </a>
                    <a href="hotspot.html" class="flex flex-col items-center justify-center py-3 text-gray-600 hover:bg-gray-50 rounded-md transition-all">
                        <i class="fa fa-fire text-xl mb-1"></i>
                        <span class="text-sm">视频热点榜</span>
                    </a>
                    <a href="admin.html" class="flex flex-col items-center justify-center py-3 bg-primary text-white rounded-md hover:bg-opacity-90 transition-all">
                        <i class="fa fa-cog text-xl mb-1"></i>
                        <span class="text-sm">管理中心</span>
                    </a>
                </div>
            </div>
            
            <!-- 桌面端导航 -->
            <div class="hidden md:flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <img src="https://p11-flow-imagex-download-sign.byteimg.com/tos-cn-i-a9rns2rl98/4942a047070f43c9989577d24fe95692.png~tplv-a9rns2rl98-24:720:720.png?rcl=20251021173658BDC366F1C82CEE98475E&rk3s=8e244e95&rrcfp=8a172a1a&x-expires=1761644218&x-signature=4MpM3mLqTz%2BjExJY%2BT526L%2B%2FPvM%3D" alt="Logo" class="h-10 w-10">
                    <span class="text-xl font-bold text-primary">枕朵新媒体运营中心</span>
                </div>
                
                <div class="flex items-center space-x-8">
                    <a href="index.html" class="text-gray-600 hover:text-primary transition-all">
                        <i class="fa fa-home mr-1"></i> 首页
                    </a>
                    <a href="hotspot.html" class="text-gray-600 hover:text-primary transition-all">
                        <i class="fa fa-fire mr-1"></i> 视频热点榜
                    </a>
                    <a href="admin.html" class="bg-primary text-white px-4 py-2 rounded-md hover:bg-opacity-90 transition-all">
                        <i class="fa fa-cog mr-1"></i> 管理中心
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- 筛选区域 -->
    <section class="bg-white py-3 border-b">
        <div class="container mx-auto px-4">
            <div class="flex flex-wrap items-center gap-2">
                <!-- 关键词筛选 -->
                <div class="flex-1 min-w-[200px]">
                    <div class="relative">
                        <input type="text" id="keyword-input" placeholder="搜索关键词" value="家纺,家具店" class="w-full py-2 px-4 pr-10 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <button id="search-btn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-primary">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>
                </div>
                
                <!-- 播放量筛选 -->
                <div class="w-[180px]">
                    <select id="play-count-filter" class="w-full py-2 px-4 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <option value="10000">播放量 ≥ 1万</option>
                        <option value="50000">播放量 ≥ 5万</option>
                        <option value="100000">播放量 ≥ 10万</option>
                        <option value="500000">播放量 ≥ 50万</option>
                        <option value="1000000">播放量 ≥ 100万</option>
                    </select>
                </div>
                
                <!-- 应用筛选按钮 -->
                <button id="apply-filter-btn" class="px-4 py-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-all-300 whitespace-nowrap">
                    应用筛选
                </button>
            </div>
        </div>
    </section>

    <!-- 数据概览区域 -->
    <section class="bg-white py-4 border-b">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-blue-50 rounded-lg p-4">
                    <p class="text-sm text-gray-500 mb-1">总内容数</p>
                    <p id="total-count" class="text-2xl font-bold text-blue-600">0</p>
                </div>
                <div class="bg-purple-50 rounded-lg p-4">
                    <p class="text-sm text-gray-500 mb-1">总播放量</p>
                    <p id="total-play-count" class="text-2xl font-bold text-purple-600">0</p>
                </div>
                <div class="bg-green-50 rounded-lg p-4">
                    <p class="text-sm text-gray-500 mb-1">总点赞数</p>
                    <p id="total-like-count" class="text-2xl font-bold text-green-600">0</p>
                </div>
                <div class="bg-yellow-50 rounded-lg p-4">
                    <p class="text-sm text-gray-500 mb-1">总评论数</p>
                    <p id="total-comment-count" class="text-2xl font-bold text-yellow-600">0</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 数据来源说明 -->
    <section class="bg-blue-50 py-3 border-b">
        <div class="container mx-auto px-4">
            <div class="flex items-center text-sm">
                <i class="fa fa-info-circle text-blue-500 mr-2"></i>
                <span class="text-blue-700">数据来源：<span id="data-source">模拟数据</span> | 最后更新：<span id="last-update">-</span></span>
            </div>
        </div>
    </section>

    <!-- 热点内容列表 -->
    <main class="py-4">
        <div class="container mx-auto px-4">
            <!-- 加载状态 -->
            <div id="loading" class="py-8 text-center">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                <p class="mt-2 text-gray-600">正在加载数据...</p>
            </div>
            
            <!-- 错误状态 -->
            <div id="error" class="py-8 text-center hidden">
                <div class="inline-block text-red-500">
                    <i class="fa fa-exclamation-circle text-4xl"></i>
                </div>
                <p id="error-message" class="mt-2 text-red-600">加载数据失败</p>
                <button id="retry-btn" class="mt-4 px-4 py-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-all-300">
                    重试
                </button>
            </div>
            
            <!-- 空数据状态 -->
            <div id="empty" class="py-8 text-center hidden">
                <div class="inline-block text-gray-400">
                    <i class="fa fa-search text-4xl"></i>
                </div>
                <p class="mt-2 text-gray-600">没有找到相关数据</p>
            </div>
            
            <!-- 内容列表 -->
            <div id="content-list" class="space-y-4 hidden">
                <!-- 内容将通过JavaScript动态生成 -->
            </div>
            
            <!-- 分页 -->
            <div id="pagination" class="flex justify-center mt-8 hidden">
                <nav class="flex items-center space-x-1">
                    <button id="prev-page" class="px-3 py-1 rounded-md border border-gray-300 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa fa-angle-left"></i>
                    </button>
                    <span id="page-info" class="px-3 py-1">1 / 1</span>
                    <button id="next-page" class="px-3 py-1 rounded-md border border-gray-300 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa fa-angle-right"></i>
                    </button>
                </nav>
            </div>
        </div>
    </main>

    <!-- 底部导航栏 -->
    <footer class="bg-white border-t py-3 fixed bottom-0 left-0 right-0">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-5 gap-2 text-center">
                <a href="index.html" class="flex flex-col items-center text-gray-500 hover:text-primary transition-all-300">
                    <i class="fa fa-home text-xl"></i>
                    <span class="text-xs mt-1">首页</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-500 hover:text-primary transition-all-300">
                    <i class="fa fa-video-camera text-xl"></i>
                    <span class="text-xs mt-1">视频</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-500 hover:text-primary transition-all-300">
                    <i class="fa fa-file-text-o text-xl"></i>
                    <span class="text-xs mt-1">文章</span>
                </a>
                <a href="#" class="flex flex-col items-center text-gray-500 hover:text-primary transition-all-300">
                    <i class="fa fa-graduation-cap text-xl"></i>
                    <span class="text-xs mt-1">培训</span>
                </a>
                <a href="hotspot-crawler.html" class="flex flex-col items-center text-primary">
                    <i class="fa fa-fire text-xl"></i>
                    <span class="text-xs mt-1">热点</span>
                </a>
            </div>
        </div>
    </footer>

    <!-- 提取文案模态框 (默认隐藏) -->
    <div id="extract-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-lg w-full max-w-lg mx-4">
            <!-- 模态框标题 -->
            <div class="flex justify-between items-center border-b border-gray-200 px-4 py-3">
                <h3 class="text-lg font-medium text-gray-800">提取文案</h3>
                <button id="close-extract-modal-btn" class="text-gray-400 hover:text-gray-500">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <!-- 模态内容 -->
            <div class="p-4">
                <div class="mb-4">
                    <textarea id="extracted-text" rows="8" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" readonly></textarea>
                </div>
                
                <div class="flex justify-end">
                    <button id="copy-text-btn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-all-300 mr-2">
                        <i class="fa fa-copy mr-1"></i> 复制文案
                    </button>
                    <button id="close-extract-btn" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-all-300">
                        关闭
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 移动端菜单切换
        document.getElementById('menu-toggle').addEventListener('click', function() {
          const mobileMenu = document.getElementById('mobile-menu');
          mobileMenu.classList.toggle('hidden');
        });
        // 全局变量
        let currentPage = 1;
        let totalPages = 1;
        let keyword = '家纺,家具店';
        let minPlayCount = 10000;
        let isLoading = false;
        
        // API配置
        const API_CONFIG = {
            // 使用模拟数据
            useMockData: true,
            
            // 实际API地址（需要后端服务器支持）
            apiBaseUrl: 'http://localhost:3000/api',
            
            // 模拟数据
            mockData: [
                {
                    id: '1',
                    title: '现代简约风格家纺搭配技巧，让你的家焕然一新',
                    coverImage: 'https://p11-doubao-search-sign.byteimg.com/labis/eb0bd96409526b23b9d5f1fd3cffd30c~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766200761&x-signature=whvbhBySbH2vzc4GBDRI8ZZWv6M%3D',
                    playCount: '256000',
                    likeCount: '52000',
                    commentCount: '18000',
                    shareCount: '35000',
                    publishTime: '2025-10-21 10:25',
                    tags: ['家纺搭配', '现代简约', '家居装饰', '生活美学']
                },
                {
                    id: '2',
                    title: '实木家具保养指南，延长使用寿命的小技巧',
                    coverImage: 'https://p11-doubao-search-sign.byteimg.com/labis/94721483c375f1a89f27f3cb664dfb08~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766200761&x-signature=SF7EUR7OTZiRKc%2FU6hohLIjkhqM%3D',
                    playCount: '183000',
                    likeCount: '37000',
                    commentCount: '12000',
                    shareCount: '21000',
                    publishTime: '2025-10-21 09:18',
                    tags: ['家具保养', '实木家具', '家居护理', '生活小技巧']
                },
                {
                    id: '3',
                    title: '小户型家具选择指南，让空间看起来更大',
                    coverImage: 'https://p11-doubao-search-sign.byteimg.com/labis/866d23e8288cf450d71c0e6b9257223d~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766200761&x-signature=eg6BnRKT8LRcPfCU%2BS7TX0X7eLE%3D',
                    playCount: '157000',
                    likeCount: '32000',
                    commentCount: '9500',
                    shareCount: '18000',
                    publishTime: '2025-10-21 08:05',
                    tags: ['小户型', '家具选择', '空间利用', '家居设计']
                },
                {
                    id: '4',
                    title: '2025年流行家纺色彩趋势，让你的家更具时尚感',
                    coverImage: 'https://p3-doubao-search-sign.byteimg.com/labis/75a92e29f81ba46d6415954ae2d57e05~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766201100&x-signature=mTzEmJ8Lgob21xOUF0Xja%2FrdGck%3D',
                    playCount: '129000',
                    likeCount: '28000',
                    commentCount: '8700',
                    shareCount: '15000',
                    publishTime: '2025-10-20 16:42',
                    tags: ['家纺趋势', '色彩搭配', '2025流行色', '家居时尚']
                },
                {
                    id: '5',
                    title: '如何选择适合自己的床垫，提高睡眠质量',
                    coverImage: 'https://p11-doubao-search-sign.byteimg.com/labis/f1caa6755579abd28f3667e523e3edd0~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766200761&x-signature=Fk47togKuhhWq02cO5Z0kg7SB0g%3D',
                    playCount: '115000',
                    likeCount: '25000',
                    commentCount: '7900',
                    shareCount: '13000',
                    publishTime: '2025-10-20 14:20',
                    tags: ['床垫选择', '睡眠质量', '健康生活', '家纺用品']
                },
                {
                    id: '6',
                    title: '北欧风格家具搭配技巧，打造温馨舒适的家',
                    coverImage: 'https://p3-doubao-search-sign.byteimg.com/labis/81e12ab795cb0570bfd6fc3eddb7398f~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766201100&x-signature=YzA7W83CpTGOu6%2FODHptijSG2dc%3D',
                    playCount: '98000',
                    likeCount: '21000',
                    commentCount: '6500',
                    shareCount: '11000',
                    publishTime: '2025-10-20 11:35',
                    tags: ['北欧风格', '家具搭配', '家居设计', '温馨家居']
                },
                {
                    id: '7',
                    title: '家纺清洁小技巧，让你的家纺用品更耐用',
                    coverImage: 'https://p11-doubao-search-sign.byteimg.com/labis/d742c8c891ada1987a3746f815435373~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766201100&x-signature=JAAM6LYLorRKHNFpXG6T4q5Kp9o%3D',
                    playCount: '87000',
                    likeCount: '19000',
                    commentCount: '5800',
                    shareCount: '9500',
                    publishTime: '2025-10-20 09:12',
                    tags: ['家纺清洁', '清洁技巧', '家居护理', '生活小窍门']
                },
                {
                    id: '8',
                    title: '智能家具选购指南，让科技改变生活',
                    coverImage: 'https://p3-doubao-search-sign.byteimg.com/labis/image/361d6a0a23f442329e37c8ac35864cdf~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766201100&x-signature=p0Y6V%2BUX4pQ9tPl464t6ukcmdvU%3D',
                    playCount: '76000',
                    likeCount: '17000',
                    commentCount: '5200',
                    shareCount: '8700',
                    publishTime: '2025-10-19 17:28',
                    tags: ['智能家具', '智能家居', '科技生活', '家居选购']
                },
                {
                    id: '9',
                    title: '儿童房家具选择指南，安全舒适最重要',
                    coverImage: 'https://p3-doubao-search-sign.byteimg.com/labis/ed96c853b34aadde151ff3ff7ce7a091~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766201100&x-signature=vsdk2s%2FmWRldZB6xwCcrGxTKMeY%3D',
                    playCount: '68000',
                    likeCount: '15000',
                    commentCount: '4700',
                    shareCount: '7900',
                    publishTime: '2025-10-19 14:05',
                    tags: ['儿童房', '家具选择', '儿童安全', '家居设计']
                },
                {
                    id: '10',
                    title: '家纺材质对比，纯棉、涤纶、亚麻哪种更好？',
                    coverImage: 'https://p3-doubao-search-sign.byteimg.com/labis/fa83c5f7a56ea73989e02b89cf104517~tplv-be4g95zd3a-image.jpeg?rk3s=542c0f93&x-expires=1766201100&x-signature=EHnqR18tiHIjDhoErKx3893yIqs%3D',
                    playCount: '59000',
                    likeCount: '13000',
                    commentCount: '4200',
                    shareCount: '7100',
                    publishTime: '2025-10-19 10:30',
                    tags: ['家纺材质', '纯棉', '涤纶', '亚麻']
                }
            ]
        };

        // 格式化数字
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + '万';
            } else if (num >= 10000) {
                return (num / 10000).toFixed(1) + '万';
            }
            return num.toString();
        }

        // 复制链接功能
        function copyLink(link) {
            navigator.clipboard.writeText(link)
                .then(() => {
                    alert('链接已复制到剪贴板！');
                })
                .catch(err => {
                    console.error('无法复制链接: ', err);
                    alert('复制失败，请手动复制！');
                });
        }
        
        // 提取文案功能
        function extractText(text) {
            const modal = document.getElementById('extract-modal');
            const textarea = document.getElementById('extracted-text');
            
            textarea.value = text;
            modal.classList.remove('hidden');
        }

        // 创建视频卡片
        function createVideoCard(video) {
            const card = document.createElement('div');
            card.className = 'bg-white rounded-lg shadow-sm overflow-hidden card-hover';
            card.innerHTML = `
                <div class="p-4">
                    <div class="flex flex-col md:flex-row">
                        <!-- 左侧内容 -->
                        <div class="md:w-3/4 md:pr-4 mb-4 md:mb-0">
                            <!-- 标题和发布时间 -->
                            <div class="flex justify-between items-start mb-3">
                                <h3 class="text-gray-800 font-medium text-lg">${video.title}</h3>
                                <span class="text-xs text-gray-500">${video.publishTime}</span>
                            </div>
                            
                            <!-- 关键词标签 -->
                            <div class="mb-3">
                                ${video.tags.map(tag => `<span class="inline-block px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded-full mr-2 mb-2">#${tag}</span>`).join('')}
                            </div>
                            
                            <!-- 数据统计 -->
                            <div class="flex flex-wrap items-center">
                                <div class="flex items-center mr-4 text-sm text-gray-600">
                                    <i class="fa fa-eye text-blue-500 mr-1"></i>
                                    <span>${formatNumber(parseInt(video.playCount))}</span>
                                </div>
                                <div class="flex items-center mr-4 text-sm text-gray-600">
                                    <i class="fa fa-heart text-red-500 mr-1"></i>
                                    <span>${formatNumber(parseInt(video.likeCount))}</span>
                                </div>
                                <div class="flex items-center mr-4 text-sm text-gray-600">
                                    <i class="fa fa-comment text-yellow-500 mr-1"></i>
                                    <span>${formatNumber(parseInt(video.commentCount))}</span>
                                </div>
                                <div class="flex items-center text-sm text-gray-600">
                                    <i class="fa fa-share text-green-500 mr-1"></i>
                                    <span>${formatNumber(parseInt(video.shareCount))}</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 右侧图片 -->
                        <div class="md:w-1/4 relative">
                            <div class="rounded-lg overflow-hidden">
                                <img src="${video.coverImage}" alt="${video.title}" class="w-full h-40 object-cover">
                            </div>
                            <span class="absolute bottom-2 right-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full">
                                <i class="fa fa-play mr-1"></i> ${formatNumber(parseInt(video.playCount))}
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- 操作按钮 -->
                <div class="flex border-t border-gray-100 bg-gray-50">
                    <button class="flex-1 py-2 text-center text-gray-600 hover:bg-gray-100 transition-all-300" onclick="copyLink('https://douyin.com/video/${video.id}')">
                        <i class="fa fa-link mr-1"></i> 复制链接
                    </button>
                    <button class="flex-1 py-2 text-center text-green-600 hover:bg-gray-100 transition-all-300" onclick="extractText('${video.title}\n\n${video.tags.map(tag => `#${tag}`).join(' ')}')">
                        <i class="fa fa-file-text-o mr-1"></i> 提取文案
                    </button>
                    <button class="flex-1 py-2 text-center text-primary hover:bg-gray-100 transition-all-300">
                        <i class="fa fa-download mr-1"></i> 保存素材
                    </button>
                </div>
            `;
            return card;
        }

        // 创建骨架屏
        function createSkeletonCard() {
            const card = document.createElement('div');
            card.className = 'bg-white rounded-lg shadow-sm overflow-hidden';
            card.innerHTML = `
                <div class="p-4">
                    <div class="flex flex-col md:flex-row">
                        <!-- 左侧内容 -->
                        <div class="md:w-3/4 md:pr-4 mb-4 md:mb-0">
                            <!-- 标题和发布时间 -->
                            <div class="flex justify-between items-start mb-3">
                                <div class="skeleton h-6 w-3/4 rounded mb-2"></div>
                                <div class="skeleton h-4 w-1/4 rounded"></div>
                            </div>
                            
                            <!-- 关键词标签 -->
                            <div class="mb-3 flex flex-wrap">
                                <div class="skeleton h-5 w-20 rounded-full mr-2 mb-2"></div>
                                <div class="skeleton h-5 w-24 rounded-full mr-2 mb-2"></div>
                                <div class="skeleton h-5 w-16 rounded-full mb-2"></div>
                            </div>
                            
                            <!-- 数据统计 -->
                            <div class="flex flex-wrap items-center">
                                <div class="skeleton h-4 w-16 rounded mr-4"></div>
                                <div class="skeleton h-4 w-16 rounded mr-4"></div>
                                <div class="skeleton h-4 w-16 rounded"></div>
                            </div>
                        </div>
                        
                        <!-- 右侧图片 -->
                        <div class="md:w-1/4">
                            <div class="skeleton h-40 w-full rounded-lg"></div>
                        </div>
                    </div>
                </div>
                
                <!-- 操作按钮 -->
                <div class="flex border-t border-gray-100 bg-gray-50">
                    <div class="skeleton h-10 flex-1"></div>
                    <div class="skeleton h-10 flex-1"></div>
                    <div class="skeleton h-10 flex-1"></div>
                </div>
            `;
            return card;
        }

        // 显示加载状态
        function showLoading() {
            document.getElementById('loading').classList.remove('hidden');
            document.getElementById('error').classList.add('hidden');
            document.getElementById('empty').classList.add('hidden');
            document.getElementById('content-list').classList.add('hidden');
            document.getElementById('pagination').classList.add('hidden');
            
            // 显示骨架屏
            const contentList = document.getElementById('content-list');
            contentList.innerHTML = '';
            
            for (let i = 0; i < 5; i++) {
                contentList.appendChild(createSkeletonCard());
            }
            
            contentList.classList.remove('hidden');
        }

        // 显示错误状态
        function showError(message) {
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('error').classList.remove('hidden');
            document.getElementById('empty').classList.add('hidden');
            document.getElementById('content-list').classList.add('hidden');
            document.getElementById('pagination').classList.add('hidden');
            
            document.getElementById('error-message').textContent = message;
        }

        // 显示空数据状态
        function showEmpty() {
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('error').classList.add('hidden');
            document.getElementById('empty').classList.remove('hidden');
            document.getElementById('content-list').classList.add('hidden');
            document.getElementById('pagination').classList.add('hidden');
        }

        // 显示内容列表
        function showContentList(videos, totalCount, totalPlayCount, totalLikeCount, totalCommentCount) {
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('error').classList.add('hidden');
            document.getElementById('empty').classList.add('hidden');
            document.getElementById('content-list').classList.remove('hidden');
            
            // 更新数据概览
            document.getElementById('total-count').textContent = totalCount;
            document.getElementById('total-play-count').textContent = formatNumber(totalPlayCount);
            document.getElementById('total-like-count').textContent = formatNumber(totalLikeCount);
            document.getElementById('total-comment-count').textContent = formatNumber(totalCommentCount);
            
            // 更新内容列表
            const contentList = document.getElementById('content-list');
            contentList.innerHTML = '';
            
            if (videos.length === 0) {
                showEmpty();
                return;
            }
            
            videos.forEach(video => {
                contentList.appendChild(createVideoCard(video));
            });
            
            // 更新分页
            document.getElementById('pagination').classList.remove('hidden');
            document.getElementById('page-info').textContent = `${currentPage} / ${totalPages}`;
            
            // 更新分页按钮状态
            document.getElementById('prev-page').disabled = currentPage === 1;
            document.getElementById('next-page').disabled = currentPage === totalPages;
        }

        // 获取模拟数据
        function getMockData(page = 1, pageSize = 10) {
            return new Promise((resolve) => {
                // 模拟网络延迟
                setTimeout(() => {
                    // 过滤数据
                    const filteredData = API_CONFIG.mockData.filter(video => {
                        const playCount = parseInt(video.playCount);
                        const titleMatch = video.title.toLowerCase().includes(keyword.toLowerCase());
                        const tagMatch = video.tags.some(tag => tag.toLowerCase().includes(keyword.toLowerCase()));
                        
                        return (titleMatch || tagMatch) && playCount >= minPlayCount;
                    });
                    
                    // 计算总数
                    const totalCount = filteredData.length;
                    const totalPages = Math.ceil(totalCount / pageSize);
                    
                    // 分页
                    const startIndex = (page - 1) * pageSize;
                    const paginatedData = filteredData.slice(startIndex, startIndex + pageSize);
                    
                    // 计算总播放量、点赞数、评论数
                    const totalPlayCount = filteredData.reduce((sum, video) => sum + parseInt(video.playCount), 0);
                    const totalLikeCount = filteredData.reduce((sum, video) => sum + parseInt(video.likeCount), 0);
                    const totalCommentCount = filteredData.reduce((sum, video) => sum + parseInt(video.commentCount), 0);
                    
                    resolve({
                        success: true,
                        data: {
                            videos: paginatedData,
                            total: totalCount,
                            page: page,
                            pageSize: pageSize,
                            totalPages: totalPages,
                            totalPlayCount,
                            totalLikeCount,
                            totalCommentCount
                        }
                    });
                }, 1000);
            });
        }

        // 获取API数据
        async function getApiData(page = 1, pageSize = 10) {
            try {
                const response = await fetch(`${API_CONFIG.apiBaseUrl}/douyin/hotspot?keyword=${encodeURIComponent(keyword)}&minPlayCount=${minPlayCount}&page=${page}&pageSize=${pageSize}`);
                const data = await response.json();
                
                if (!data.success) {
                    throw new Error(data.message || '获取数据失败');
                }
                
                return data;
            } catch (error) {
                console.error('API请求错误:', error);
                throw error;
            }
        }

        // 获取数据
        async function fetchData(page = 1) {
            if (isLoading) return;
            
            isLoading = true;
            currentPage = page;
            
            try {
                showLoading();
                
                let result;
                
                if (API_CONFIG.useMockData) {
                    // 使用模拟数据
                    result = await getMockData(page, 10);
                    document.getElementById('data-source').textContent = '模拟数据';
                } else {
                    // 使用API数据
                    result = await getApiData(page, 10);
                    document.getElementById('data-source').textContent = '抖音开放平台API';
                }
                
                // 更新最后更新时间
                const now = new Date();
                document.getElementById('last-update').textContent = now.toLocaleString();
                
                // 更新全局变量
                totalPages = result.data.totalPages;
                
                // 显示内容列表
                showContentList(
                    result.data.videos,
                    result.data.total,
                    result.data.totalPlayCount || 0,
                    result.data.totalLikeCount || 0,
                    result.data.totalCommentCount || 0
                );
            } catch (error) {
                showError(error.message || '获取数据失败');
            } finally {
                isLoading = false;
            }
        }

        // 初始化页面
        function initPage() {
            // 加载数据
            fetchData();
            
            // 刷新按钮点击事件
            document.getElementById('refresh-btn').addEventListener('click', () => {
                fetchData(currentPage);
            });
            
            // 搜索按钮点击事件
            document.getElementById('search-btn').addEventListener('click', () => {
                keyword = document.getElementById('keyword-input').value.trim();
                fetchData(1);
            });
            
            // 应用筛选按钮点击事件
            document.getElementById('apply-filter-btn').addEventListener('click', () => {
                keyword = document.getElementById('keyword-input').value.trim();
                minPlayCount = parseInt(document.getElementById('play-count-filter').value);
                fetchData(1);
            });
            
            // 重试按钮点击事件
            document.getElementById('retry-btn').addEventListener('click', () => {
                fetchData(currentPage);
            });
            
            // 分页按钮点击事件
            document.getElementById('prev-page').addEventListener('click', () => {
                if (currentPage > 1) {
                    fetchData(currentPage - 1);
                }
            });
            
            document.getElementById('next-page').addEventListener('click', () => {
                if (currentPage < totalPages) {
                    fetchData(currentPage + 1);
                }
            });
            
            // 关闭提取文案模态框
            document.getElementById('close-extract-modal-btn').addEventListener('click', function() {
                document.getElementById('extract-modal').classList.add('hidden');
            });
            
            document.getElementById('close-extract-btn').addEventListener('click', function() {
                document.getElementById('extract-modal').classList.add('hidden');
            });
            
            // 复制文案功能
            document.getElementById('copy-text-btn').addEventListener('click', function() {
                const textarea = document.getElementById('extracted-text');
                
                textarea.select();
                document.execCommand('copy');
                
                alert('文案已复制到剪贴板！');
            });
        }

        // 页面加载完成后初始化
        window.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>
